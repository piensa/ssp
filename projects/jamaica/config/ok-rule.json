[{
    "id": "superheroes",
    "upstream": {
        "url": "http://minio:9000"
    },
    "match": {
        "url": "http://oathkeeper-proxy:4455/overall/<.*>",
        "methods": [ "GET" ]    
    },
    "authenticators": [{
        "handler": "oauth2_introspection",
        "config": {
            "required_scope": ["read", "write"]
        }
    }],
    "authorizer": {
        "handler": "keto_engine_acp_ory",
        "config": {
            "required_action": "view",
            "required_resource": "$1",
            "flavor": "regex"
        }
    },
    "credentials_issuer": { "handler": "noop" }
},
{
    "id": "superheroes-api",
    "upstream": {"url": ""},
    "match": {
        "url": "http://oathkeeper-api:4456/overall/<.*>",
        "methods": [ "GET" ]    
    },
    "authenticators": [{
        "handler": "oauth2_introspection",
        "config": {
            "required_scope": ["read", "write"]
        }
    }],
    "authorizer": {
        "handler": "keto_engine_acp_ory",
        "config": {
            "required_action": "view",
            "required_resource": "$1",
            "flavor": "regex"
        }
    },
    "credentials_issuer": { "handler": "noop" }
}]